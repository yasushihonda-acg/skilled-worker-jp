<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>skilled-worker-jp ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Source+Code+Pro:wght@400;500&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f8f9fa;
      color: #1a1a1a;
      line-height: 1.8;
      font-size: 15px;
    }

    /* ===== CSS Animations ===== */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    @keyframes countUp {
      from { opacity: 0; transform: scale(0.5); }
      to { opacity: 1; transform: scale(1); }
    }

    .animate-on-scroll {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .animate-on-scroll.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .hover-lift {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .hover-lift:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 260px;
      height: 100vh;
      background: #fff;
      border-right: 1px solid #e5e7eb;
      padding: 24px 0;
      overflow-y: auto;
    }

    .sidebar-header {
      padding: 0 20px 20px;
      border-bottom: 1px solid #e5e7eb;
      margin-bottom: 16px;
    }

    .sidebar-title {
      font-size: 16px;
      font-weight: 700;
      color: #00a3a9;
    }

    .sidebar-subtitle {
      font-size: 12px;
      color: #6b7280;
      margin-top: 4px;
    }

    .nav-section {
      padding: 0 12px;
      margin-bottom: 20px;
    }

    .nav-section-title {
      font-size: 11px;
      font-weight: 700;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 8px;
      margin-bottom: 4px;
    }

    .nav-link {
      display: block;
      padding: 8px 12px;
      color: #4b5563;
      text-decoration: none;
      font-size: 14px;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .nav-link:hover {
      background: #f3f4f6;
      color: #1a1a1a;
      padding-left: 16px;
    }

    .nav-link.active {
      background: #e0f7f8;
      color: #00a3a9;
      font-weight: 500;
    }

    /* Main Content */
    .main {
      margin-left: 260px;
      min-height: 100vh;
    }

    .content {
      max-width: 900px;
      margin: 0 auto;
      padding: 40px;
    }

    /* Section Divider */
    .section-divider {
      margin: 60px 0 40px;
      padding: 20px 0;
      border-top: 3px solid #e5e7eb;
      text-align: center;
    }

    .section-divider-label {
      display: inline-block;
      padding: 8px 24px;
      background: #f3f4f6;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      color: #6b7280;
    }

    /* Typography */
    h1 {
      font-size: 28px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 8px;
      padding-bottom: 16px;
      border-bottom: 2px solid #00a3a9;
    }

    h2 {
      font-size: 20px;
      font-weight: 700;
      color: #1a1a1a;
      margin: 40px 0 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid #e5e7eb;
    }

    h3 {
      font-size: 16px;
      font-weight: 700;
      color: #374151;
      margin: 24px 0 12px;
    }

    p {
      margin-bottom: 16px;
      color: #4b5563;
    }

    .lead {
      font-size: 16px;
      color: #6b7280;
      margin-bottom: 32px;
    }

    /* Badge with shimmer */
    .badge {
      display: inline-block;
      padding: 4px 10px;
      background: linear-gradient(90deg, #e0f7f8 0%, #b2f0f2 50%, #e0f7f8 100%);
      background-size: 200% 100%;
      animation: shimmer 3s infinite;
      color: #00a3a9;
      font-size: 12px;
      font-weight: 500;
      border-radius: 4px;
      margin-bottom: 16px;
    }

    /* Table */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0 24px;
      font-size: 14px;
    }

    th, td {
      padding: 12px 16px;
      text-align: left;
      border: 1px solid #e5e7eb;
    }

    th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }

    td {
      background: #fff;
      transition: background 0.2s ease;
    }

    tr:hover td {
      background: #f9fafb;
    }

    /* Code Block */
    .code-block {
      background: #1e293b;
      border-radius: 8px;
      overflow: hidden;
      margin: 16px 0 24px;
    }

    .code-header {
      background: #334155;
      padding: 8px 16px;
      font-family: 'Source Code Pro', monospace;
      font-size: 12px;
      color: #94a3b8;
    }

    .code-content {
      padding: 16px;
      font-family: 'Source Code Pro', monospace;
      font-size: 13px;
      line-height: 1.6;
      color: #e2e8f0;
      overflow-x: auto;
      white-space: pre;
    }

    .code-content .comment { color: #64748b; }
    .code-content .keyword { color: #c084fc; }
    .code-content .string { color: #4ade80; }
    .code-content .function { color: #60a5fa; }

    /* Hero with Lottie */
    .hero-section {
      display: flex;
      align-items: center;
      gap: 40px;
      margin-bottom: 32px;
    }

    .hero-content {
      flex: 1;
    }

    .hero-lottie {
      width: 200px;
      height: 200px;
      flex-shrink: 0;
    }

    .hero-lottie svg {
      width: 100%;
      height: 100%;
    }

    @media (max-width: 768px) {
      .hero-section {
        flex-direction: column;
        text-align: center;
      }
      .hero-lottie {
        order: -1;
      }
    }

    /* Visual Cards with hover */
    .visual-cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 24px 0 32px;
    }

    @media (max-width: 768px) {
      .visual-cards {
        grid-template-columns: 1fr;
      }
    }

    .visual-card {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 24px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .visual-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 163, 169, 0.15);
      border-color: #00a3a9;
    }

    .visual-card:hover .visual-card-icon {
      animation: float 2s ease-in-out infinite;
    }

    .visual-card-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 16px;
    }


    .visual-card-title {
      font-size: 16px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 8px;
    }

    .visual-card-desc {
      font-size: 13px;
      color: #6b7280;
      line-height: 1.6;
    }

    /* Stats Row with count animation */
    .stats-row {
      display: flex;
      justify-content: space-around;
      background: linear-gradient(135deg, #00a3a9 0%, #00c4cc 100%);
      border-radius: 12px;
      padding: 32px 16px;
      margin: 24px 0 32px;
      position: relative;
      overflow: hidden;
    }

    .stats-row::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: pulse 4s ease-in-out infinite;
    }

    .stat-item {
      text-align: center;
      color: #fff;
      position: relative;
      z-index: 1;
    }

    .stat-value {
      font-size: 36px;
      font-weight: 700;
      line-height: 1;
    }

    .stat-value.count-up {
      animation: countUp 0.8s ease forwards;
    }

    .stat-label {
      font-size: 13px;
      margin-top: 8px;
      opacity: 0.9;
    }

    /* Language Flags with hover */
    .lang-flags {
      display: flex;
      justify-content: center;
      gap: 24px;
      margin: 24px 0 32px;
      flex-wrap: wrap;
    }

    .lang-flag-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .lang-flag-item:hover {
      transform: scale(1.1);
    }

    .lang-flag-item:hover .lang-flag-circle {
      box-shadow: 0 8px 20px rgba(0, 163, 169, 0.3);
      border-color: #00a3a9;
    }

    .lang-flag-circle {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      background: #fff;
      border: 2px solid #e5e7eb;
      transition: all 0.3s ease;
    }

    .lang-flag-name {
      font-size: 13px;
      color: #4b5563;
    }

    /* Flow Diagram */
    .flow-diagram {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 32px;
      margin: 24px 0 32px;
    }

    .flow-svg {
      width: 100%;
      max-width: 700px;
      margin: 0 auto;
      display: block;
    }

    /* Step Cards */
    .step-cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin: 24px 0 32px;
    }

    @media (max-width: 768px) {
      .step-cards {
        grid-template-columns: 1fr;
      }
    }

    .step-card {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 24px 20px;
      text-align: center;
      position: relative;
      transition: all 0.3s ease;
    }

    .step-card:hover {
      border-color: #00a3a9;
      box-shadow: 0 10px 30px rgba(0, 163, 169, 0.1);
    }

    .step-card:hover .step-number {
      transform: scale(1.1);
    }

    .step-card::after {
      content: 'â†’';
      position: absolute;
      right: -20px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 24px;
      color: #00a3a9;
      transition: transform 0.3s ease;
    }

    .step-card:hover::after {
      transform: translateY(-50%) translateX(5px);
    }

    .step-card:last-child::after {
      display: none;
    }

    @media (max-width: 768px) {
      .step-card::after {
        content: 'â†“';
        right: 50%;
        top: auto;
        bottom: -20px;
        transform: translateX(50%);
      }
    }

    .step-number {
      width: 40px;
      height: 40px;
      background: #00a3a9;
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 18px;
      margin: 0 auto 12px;
      transition: transform 0.3s ease;
    }

    .step-title {
      font-size: 15px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 8px;
    }

    .step-desc {
      font-size: 13px;
      color: #6b7280;
    }

    /* Info Box */
    .info-box {
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      border-radius: 8px;
      padding: 16px 20px;
      margin: 16px 0 24px;
      transition: all 0.3s ease;
    }

    .info-box:hover {
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
    }

    .info-box-title {
      font-size: 14px;
      font-weight: 600;
      color: #1e40af;
      margin-bottom: 8px;
    }

    .info-box p {
      font-size: 14px;
      color: #1e40af;
      margin: 0;
    }

    /* Page Flow with Canvas */
    .page-flow {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 32px;
      margin: 24px 0 32px;
    }

    .canvas-container {
      width: 100%;
      display: flex;
      justify-content: center;
    }

    #pageFlowCanvas {
      max-width: 100%;
      cursor: pointer;
    }

    /* Mermaid */
    .mermaid-wrapper {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 24px;
      margin: 16px 0 24px;
      overflow-x: auto;
    }

    .mermaid {
      display: flex;
      justify-content: center;
    }

    /* Arch Grid */
    .arch-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin: 16px 0 24px;
    }

    @media (max-width: 768px) {
      .arch-grid {
        grid-template-columns: 1fr;
      }
    }

    .arch-box {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
      transition: all 0.3s ease;
    }

    .arch-box:hover {
      border-color: #00a3a9;
      box-shadow: 0 4px 12px rgba(0, 163, 169, 0.1);
    }

    .arch-box-title {
      font-size: 12px;
      font-weight: 600;
      color: #00a3a9;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 12px;
    }

    .arch-box-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px;
      background: #f9fafb;
      border-radius: 4px;
      margin-bottom: 8px;
      font-size: 13px;
      transition: all 0.2s ease;
    }

    .arch-box-item:hover {
      background: #e0f7f8;
      transform: translateX(4px);
    }

    .arch-box-item:last-child {
      margin-bottom: 0;
    }

    /* Responsive */
    @media (max-width: 900px) {
      .sidebar {
        display: none;
      }
      .main {
        margin-left: 0;
      }
      .content {
        padding: 24px 16px;
      }
      .stats-row {
        flex-wrap: wrap;
        gap: 24px;
      }
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-title">skilled-worker-jp</div>
      <div class="sidebar-subtitle">System Documentation</div>
    </div>

    <nav class="nav-section">
      <div class="nav-section-title">ä¸€èˆ¬å‘ã‘</div>
      <a href="#overview" class="nav-link active">ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦</a>
      <a href="#features" class="nav-link">3ã¤ã®ç‰¹å¾´</a>
      <a href="#languages" class="nav-link">å¯¾å¿œè¨€èª</a>
      <a href="#user-flow" class="nav-link">åˆ©ç”¨ã®æµã‚Œ</a>
      <a href="#registration" class="nav-link">ç™»éŒ²ã‚¹ãƒ†ãƒƒãƒ—</a>
      <a href="#pages" class="nav-link">ãƒšãƒ¼ã‚¸æ§‹æˆ</a>
    </nav>

    <nav class="nav-section">
      <div class="nav-section-title">ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘</div>
      <a href="#tech-stack" class="nav-link">æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</a>
      <a href="#architecture" class="nav-link">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</a>
      <a href="#request-flow" class="nav-link">ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ãƒ­ãƒ¼</a>
      <a href="#directory" class="nav-link">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ </a>
      <a href="#api" class="nav-link">APIå®Ÿè£…</a>
      <a href="#deploy" class="nav-link">ãƒ‡ãƒ—ãƒ­ã‚¤</a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main">
    <div class="content">

      <!-- ===== ä¸€èˆ¬å‘ã‘ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ===== -->

      <!-- Overview with Lottie -->
      <section id="overview">
        <div class="hero-section">
          <div class="hero-content">
            <span class="badge">ç¤¾å†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</span>
            <h1>skilled-worker-jp</h1>
            <p class="lead">ç‰¹å®šæŠ€èƒ½å¤–å›½äººå‘ã‘ã®æ±‚è·è€…ç™»éŒ²ã‚µã‚¤ãƒˆã§ã™ã€‚æ—¥æœ¬ã§åƒããŸã„å¤–å›½äººã®æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
          </div>
          <div class="hero-lottie">
            <svg viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- Animated person icon -->
              <circle cx="100" cy="60" r="30" fill="#00a3a9">
                <animate attributeName="r" values="30;32;30" dur="2s" repeatCount="indefinite"/>
              </circle>
              <path d="M50 160 C50 110 75 90 100 90 C125 90 150 110 150 160" fill="#00a3a9">
                <animate attributeName="d" values="M50 160 C50 110 75 90 100 90 C125 90 150 110 150 160;M50 160 C50 115 75 95 100 95 C125 95 150 115 150 160;M50 160 C50 110 75 90 100 90 C125 90 150 110 150 160" dur="2s" repeatCount="indefinite"/>
              </path>
              <!-- Floating elements -->
              <circle cx="160" cy="50" r="8" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2">
                <animate attributeName="cy" values="50;40;50" dur="3s" repeatCount="indefinite"/>
              </circle>
              <rect x="30" y="70" width="20" height="20" rx="4" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2">
                <animate attributeName="y" values="70;60;70" dur="2.5s" repeatCount="indefinite"/>
              </rect>
              <polygon points="170,120 180,140 160,140" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2">
                <animate attributeName="points" values="170,120 180,140 160,140;170,115 180,135 160,135;170,120 180,140 160,140" dur="2s" repeatCount="indefinite"/>
              </polygon>
            </svg>
          </div>
        </div>

        <!-- Stats -->
        <div class="stats-row animate-on-scroll">
          <div class="stat-item">
            <div class="stat-value" data-count="5">0</div>
            <div class="stat-label">å¯¾å¿œè¨€èª</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" data-count="3">0</div>
            <div class="stat-label">ç™»éŒ²ã‚¹ãƒ†ãƒƒãƒ—</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">24h</div>
            <div class="stat-label">AIãƒãƒ£ãƒƒãƒˆå¯¾å¿œ</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">Â¥0</div>
            <div class="stat-label">åˆ©ç”¨æ–™é‡‘</div>
          </div>
        </div>

        <div class="info-box">
          <div class="info-box-title">é‹å–¶ä¼šç¤¾</div>
          <p>ã‚ãŠãã‚‰ã‚±ã‚¢ã‚°ãƒ«ãƒ¼ãƒ— - é¹¿å…å³¶ãƒ»ç¦å²¡ã§50ä»¥ä¸Šã®ä»‹è­·ãƒ»ç¦ç¥‰æ–½è¨­ã‚’é‹å–¶</p>
        </div>
      </section>

      <!-- Features with Lottie -->
      <section id="features">
        <h2>3ã¤ã®ç‰¹å¾´</h2>

        <div class="visual-cards">
          <div class="visual-card hover-lift animate-on-scroll">
            <svg class="visual-card-icon" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="40" cy="40" r="38" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2"/>
              <!-- Globe -->
              <circle cx="40" cy="40" r="22" fill="none" stroke="#00a3a9" stroke-width="2"/>
              <ellipse cx="40" cy="40" rx="10" ry="22" fill="none" stroke="#00a3a9" stroke-width="1.5"/>
              <line x1="18" y1="40" x2="62" y2="40" stroke="#00a3a9" stroke-width="1.5"/>
              <line x1="40" y1="18" x2="40" y2="62" stroke="#00a3a9" stroke-width="1.5"/>
              <!-- Rotating effect -->
              <circle cx="40" cy="40" r="26" fill="none" stroke="#00a3a9" stroke-width="1" stroke-dasharray="4 4">
                <animateTransform attributeName="transform" type="rotate" from="0 40 40" to="360 40 40" dur="10s" repeatCount="indefinite"/>
              </circle>
              <!-- Badge -->
              <circle cx="58" cy="22" r="10" fill="#00a3a9">
                <animate attributeName="r" values="10;11;10" dur="1s" repeatCount="indefinite"/>
              </circle>
              <text x="58" y="26" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">5</text>
            </svg>
            <div class="visual-card-title">å¤šè¨€èªå¯¾å¿œ</div>
            <div class="visual-card-desc">æ—¥æœ¬èªãƒ»è‹±èªãƒ»ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èªãƒ»ãƒãƒ‘ãƒ¼ãƒ«èªãƒ»ãƒ“ãƒ«ãƒèªã®5è¨€èªã«å¯¾å¿œã€‚æ¯å›½èªã§å®‰å¿ƒã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚</div>
          </div>

          <div class="visual-card hover-lift animate-on-scroll">
            <svg class="visual-card-icon" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="40" cy="40" r="38" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2"/>
              <!-- Document -->
              <rect x="22" y="16" width="36" height="48" rx="4" fill="#fff" stroke="#00a3a9" stroke-width="2"/>
              <line x1="28" y1="28" x2="52" y2="28" stroke="#00a3a9" stroke-width="2" stroke-linecap="round">
                <animate attributeName="x2" values="52;48;52" dur="2s" repeatCount="indefinite"/>
              </line>
              <line x1="28" y1="38" x2="52" y2="38" stroke="#00a3a9" stroke-width="2" stroke-linecap="round">
                <animate attributeName="x2" values="52;44;52" dur="2.5s" repeatCount="indefinite"/>
              </line>
              <line x1="28" y1="48" x2="42" y2="48" stroke="#00a3a9" stroke-width="2" stroke-linecap="round"/>
              <!-- Checkmark -->
              <circle cx="54" cy="54" r="12" fill="#00a3a9">
                <animate attributeName="r" values="12;13;12" dur="1s" repeatCount="indefinite"/>
              </circle>
              <path d="M48 54 L52 58 L60 50" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none">
                <animate attributeName="stroke-dasharray" values="0 20;20 0" dur="0.5s" fill="freeze"/>
              </path>
            </svg>
            <div class="visual-card-title">ã‹ã‚“ãŸã‚“ç™»éŒ²</div>
            <div class="visual-card-desc">ã‚ãšã‹3ã‚¹ãƒ†ãƒƒãƒ—ã§ç™»éŒ²å®Œäº†ã€‚åŸºæœ¬æƒ…å ±ãƒ»åœ¨ç•™è³‡æ ¼ãƒ»é€£çµ¡å…ˆã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã€‚ç´„3åˆ†ã§å®Œäº†ã—ã¾ã™ã€‚</div>
          </div>

          <div class="visual-card hover-lift animate-on-scroll">
            <svg class="visual-card-icon" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="40" cy="40" r="38" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2"/>
              <!-- Chat bubble -->
              <rect x="16" y="20" width="48" height="36" rx="6" fill="#fff" stroke="#00a3a9" stroke-width="2"/>
              <polygon points="28,56 28,66 40,56" fill="#fff" stroke="#00a3a9" stroke-width="2"/>
              <!-- AI dots -->
              <circle cx="30" cy="38" r="4" fill="#00a3a9">
                <animate attributeName="opacity" values="1;0.3;1" dur="1.5s" repeatCount="indefinite" begin="0s"/>
              </circle>
              <circle cx="42" cy="38" r="4" fill="#00a3a9">
                <animate attributeName="opacity" values="1;0.3;1" dur="1.5s" repeatCount="indefinite" begin="0.3s"/>
              </circle>
              <circle cx="54" cy="38" r="4" fill="#00a3a9">
                <animate attributeName="opacity" values="1;0.3;1" dur="1.5s" repeatCount="indefinite" begin="0.6s"/>
              </circle>
              <!-- Sparkle -->
              <circle cx="60" cy="20" r="6" fill="#00a3a9">
                <animate attributeName="r" values="6;8;6" dur="2s" repeatCount="indefinite"/>
                <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite"/>
              </circle>
            </svg>
            <div class="visual-card-title">AIãƒãƒ£ãƒƒãƒˆ</div>
            <div class="visual-card-desc">ç‰¹å®šæŠ€èƒ½ãƒ“ã‚¶ã‚„å°±è·ã«é–¢ã™ã‚‹ç–‘å•ã‚’AIãŒ24æ™‚é–“ã‚µãƒãƒ¼ãƒˆã€‚æ¯å›½èªã§æ°—è»½ã«è³ªå•ã§ãã¾ã™ã€‚</div>
          </div>
        </div>
      </section>

      <!-- Languages -->
      <section id="languages">
        <h2>å¯¾å¿œè¨€èª</h2>
        <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªåˆ†ã®è¨€èªã§ã‚µã‚¤ãƒˆã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚</p>

        <div class="lang-flags animate-on-scroll">
          <div class="lang-flag-item">
            <div class="lang-flag-circle">ğŸ‡¯ğŸ‡µ</div>
            <div class="lang-flag-name">æ—¥æœ¬èª</div>
          </div>
          <div class="lang-flag-item">
            <div class="lang-flag-circle">ğŸ‡¬ğŸ‡§</div>
            <div class="lang-flag-name">English</div>
          </div>
          <div class="lang-flag-item">
            <div class="lang-flag-circle">ğŸ‡®ğŸ‡©</div>
            <div class="lang-flag-name">Indonesia</div>
          </div>
          <div class="lang-flag-item">
            <div class="lang-flag-circle">ğŸ‡³ğŸ‡µ</div>
            <div class="lang-flag-name">à¤¨à¥‡à¤ªà¤¾à¤²à¥€</div>
          </div>
          <div class="lang-flag-item">
            <div class="lang-flag-circle">ğŸ‡²ğŸ‡²</div>
            <div class="lang-flag-name">á€™á€¼á€”á€ºá€™á€¬</div>
          </div>
        </div>
      </section>

      <!-- User Flow -->
      <section id="user-flow">
        <h2>åˆ©ç”¨ã®æµã‚Œ</h2>
        <p>ç™»éŒ²ã‹ã‚‰å°±è·ã¾ã§ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚</p>

        <div class="flow-diagram animate-on-scroll">
          <svg class="flow-svg" viewBox="0 0 700 120" fill="none" xmlns="http://www.w3.org/2000/svg">
            <!-- Step 1 -->
            <g class="flow-step" style="animation: fadeInUp 0.5s ease forwards;">
              <circle cx="80" cy="50" r="40" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2"/>
              <text x="80" y="45" text-anchor="middle" font-size="24">ğŸ“</text>
              <text x="80" y="62" text-anchor="middle" font-size="10" fill="#00a3a9" font-weight="bold">STEP 1</text>
              <text x="80" y="105" text-anchor="middle" font-size="14" fill="#1a1a1a" font-weight="600">ç™»éŒ²</text>
            </g>

            <!-- Arrow 1 -->
            <path d="M130 50 L190 50" stroke="#00a3a9" stroke-width="2" stroke-dasharray="6 4">
              <animate attributeName="stroke-dashoffset" from="10" to="0" dur="1s" repeatCount="indefinite"/>
            </path>
            <polygon points="190,45 200,50 190,55" fill="#00a3a9">
              <animate attributeName="opacity" values="0.5;1;0.5" dur="1s" repeatCount="indefinite"/>
            </polygon>

            <!-- Step 2 -->
            <g class="flow-step" style="animation: fadeInUp 0.5s ease 0.2s forwards; opacity: 0;">
              <circle cx="260" cy="50" r="40" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2"/>
              <text x="260" y="45" text-anchor="middle" font-size="24">ğŸ’¬</text>
              <text x="260" y="62" text-anchor="middle" font-size="10" fill="#00a3a9" font-weight="bold">STEP 2</text>
              <text x="260" y="105" text-anchor="middle" font-size="14" fill="#1a1a1a" font-weight="600">é¢è«‡</text>
            </g>

            <!-- Arrow 2 -->
            <path d="M310 50 L370 50" stroke="#00a3a9" stroke-width="2" stroke-dasharray="6 4">
              <animate attributeName="stroke-dashoffset" from="10" to="0" dur="1s" repeatCount="indefinite"/>
            </path>
            <polygon points="370,45 380,50 370,55" fill="#00a3a9">
              <animate attributeName="opacity" values="0.5;1;0.5" dur="1s" repeatCount="indefinite"/>
            </polygon>

            <!-- Step 3 -->
            <g class="flow-step" style="animation: fadeInUp 0.5s ease 0.4s forwards; opacity: 0;">
              <circle cx="440" cy="50" r="40" fill="#e0f7f8" stroke="#00a3a9" stroke-width="2"/>
              <text x="440" y="45" text-anchor="middle" font-size="24">ğŸ”</text>
              <text x="440" y="62" text-anchor="middle" font-size="10" fill="#00a3a9" font-weight="bold">STEP 3</text>
              <text x="440" y="105" text-anchor="middle" font-size="14" fill="#1a1a1a" font-weight="600">ç´¹ä»‹</text>
            </g>

            <!-- Arrow 3 -->
            <path d="M490 50 L550 50" stroke="#00a3a9" stroke-width="2" stroke-dasharray="6 4">
              <animate attributeName="stroke-dashoffset" from="10" to="0" dur="1s" repeatCount="indefinite"/>
            </path>
            <polygon points="550,45 560,50 550,55" fill="#00a3a9">
              <animate attributeName="opacity" values="0.5;1;0.5" dur="1s" repeatCount="indefinite"/>
            </polygon>

            <!-- Step 4 -->
            <g class="flow-step" style="animation: fadeInUp 0.5s ease 0.6s forwards; opacity: 0;">
              <circle cx="620" cy="50" r="40" fill="#00a3a9" stroke="#00a3a9" stroke-width="2"/>
              <text x="620" y="45" text-anchor="middle" font-size="24">ğŸ‰</text>
              <text x="620" y="62" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">GOAL</text>
              <text x="620" y="105" text-anchor="middle" font-size="14" fill="#1a1a1a" font-weight="600">å°±è·</text>
            </g>
          </svg>
        </div>
      </section>

      <!-- Registration Steps -->
      <section id="registration">
        <h2>ç™»éŒ²ã‚¹ãƒ†ãƒƒãƒ—</h2>
        <p>ã‚µã‚¤ãƒˆã§ã®ç™»éŒ²ã¯3ã‚¹ãƒ†ãƒƒãƒ—ã§å®Œäº†ã—ã¾ã™ã€‚</p>

        <div class="step-cards">
          <div class="step-card animate-on-scroll">
            <div class="step-number">1</div>
            <div class="step-title">åŸºæœ¬æƒ…å ±</div>
            <div class="step-desc">æ°åãƒ»ç”Ÿå¹´æœˆæ—¥<br>æ€§åˆ¥ãƒ»å›½ç±</div>
          </div>
          <div class="step-card animate-on-scroll">
            <div class="step-number">2</div>
            <div class="step-title">åœ¨ç•™è³‡æ ¼ãƒ»ã‚¹ã‚­ãƒ«</div>
            <div class="step-desc">åœ¨ç•™è³‡æ ¼ãƒ»æœŸé™<br>æ—¥æœ¬èªãƒ¬ãƒ™ãƒ«ãƒ»å¸Œæœ›è·ç¨®</div>
          </div>
          <div class="step-card animate-on-scroll">
            <div class="step-number">3</div>
            <div class="step-title">é€£çµ¡å…ˆ</div>
            <div class="step-desc">LINE IDç­‰ã®é€£çµ¡å…ˆ<br>â†’ ç™»éŒ²å®Œäº†ï¼</div>
          </div>
        </div>
      </section>

      <!-- Pages with Canvas -->
      <section id="pages">
        <h2>ãƒšãƒ¼ã‚¸æ§‹æˆ</h2>
        <p>ã‚µã‚¤ãƒˆã¯2ã¤ã®ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚¯ãƒªãƒƒã‚¯ã§æ“ä½œã§ãã¾ã™ã€‚</p>

        <div class="page-flow animate-on-scroll">
          <div class="canvas-container">
            <canvas id="pageFlowCanvas" width="600" height="220"></canvas>
          </div>
        </div>

      </section>

      <!-- ===== ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ===== -->
      <div class="section-divider">
        <span class="section-divider-label">ğŸ‘¨â€ğŸ’» ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘æŠ€è¡“ä»•æ§˜</span>
      </div>

      <!-- Tech Stack -->
      <section id="tech-stack">
        <h2>æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</h2>

        <table>
          <tr>
            <th>ãƒ¬ã‚¤ãƒ¤ãƒ¼</th>
            <th>æŠ€è¡“</th>
            <th>è©³ç´°</th>
          </tr>
          <tr>
            <td>Frontend</td>
            <td>Next.js 14</td>
            <td>App Router / React Server Components</td>
          </tr>
          <tr>
            <td>Styling</td>
            <td>Tailwind CSS</td>
            <td>utility-first CSS</td>
          </tr>
          <tr>
            <td>i18n</td>
            <td>next-intl</td>
            <td>5è¨€èªå¯¾å¿œ</td>
          </tr>
          <tr>
            <td>AI</td>
            <td>Vertex AI</td>
            <td>Gemini 2.5 Flash / asia-northeast1</td>
          </tr>
          <tr>
            <td>Infrastructure</td>
            <td>Cloud Run</td>
            <td>Workload Identityèªè¨¼</td>
          </tr>
          <tr>
            <td>CI/CD</td>
            <td>Cloud Build</td>
            <td>GitHubé€£æºè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤</td>
          </tr>
          <tr>
            <td>Container</td>
            <td>Artifact Registry</td>
            <td>Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ç®¡ç†</td>
          </tr>
        </table>
      </section>

      <!-- Architecture -->
      <section id="architecture">
        <h2>ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h2>

        <div class="mermaid-wrapper animate-on-scroll">
          <div class="mermaid">
flowchart TB
    subgraph Client
        Browser[Browser]
    end

    subgraph CloudRun[Cloud Run]
        NextJS[Next.js 14]
        API[API Routes]
    end

    subgraph GCP[Google Cloud]
        VertexAI[Vertex AI]
        Firestore[Firestore]
    end

    subgraph CICD[CI/CD]
        GitHub[GitHub]
        CloudBuild[Cloud Build]
        AR[Artifact Registry]
    end

    Browser --> NextJS
    NextJS --> API
    API --> VertexAI
    API -.-> Firestore

    GitHub --> CloudBuild
    CloudBuild --> AR
    AR --> CloudRun
          </div>
        </div>

        <div class="arch-grid">
          <div class="arch-box animate-on-scroll">
            <div class="arch-box-title">Frontend</div>
            <div class="arch-box-item">âš›ï¸ Next.js 14 App Router</div>
            <div class="arch-box-item">ğŸ¨ Tailwind CSS</div>
            <div class="arch-box-item">ğŸŒ next-intl</div>
          </div>
          <div class="arch-box animate-on-scroll">
            <div class="arch-box-title">Backend</div>
            <div class="arch-box-item">ğŸ”Œ API Routes</div>
            <div class="arch-box-item">ğŸ¤– Vertex AI SDK</div>
            <div class="arch-box-item">ğŸ” Workload Identity</div>
          </div>
          <div class="arch-box animate-on-scroll">
            <div class="arch-box-title">Infrastructure</div>
            <div class="arch-box-item">â˜ï¸ Cloud Run</div>
            <div class="arch-box-item">ğŸ”§ Cloud Build</div>
            <div class="arch-box-item">ğŸ“¦ Artifact Registry</div>
          </div>
        </div>
      </section>

      <!-- Request Flow -->
      <section id="request-flow">
        <h2>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ãƒ­ãƒ¼</h2>

        <div class="mermaid-wrapper animate-on-scroll">
          <div class="mermaid">
sequenceDiagram
    participant U as User
    participant N as Next.js
    participant A as API Route
    participant V as Vertex AI

    U->>N: Access /{locale}/
    N->>U: Render LP

    U->>A: POST /api/chat
    A->>V: generateContent()
    V->>A: Response
    A->>U: AI Response

    U->>N: Navigate /register
    U->>A: POST /api/register
    A->>U: Success
          </div>
        </div>
      </section>

      <!-- Directory -->
      <section id="directory">
        <h2>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ </h2>

        <div class="code-block">
          <div class="code-header">project structure</div>
          <div class="code-content">src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ [locale]/           <span class="comment"># å¤šè¨€èªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>
â”‚       â”œâ”€â”€ page.tsx        <span class="comment"># LP</span>
â”‚       â”œâ”€â”€ register/       <span class="comment"># ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ </span>
â”‚       â””â”€â”€ layout.tsx      <span class="comment"># å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ</span>
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                 <span class="comment"># åŸºæœ¬UI</span>
â”‚   â”œâ”€â”€ layout/             <span class="comment"># Header, Footer</span>
â”‚   â””â”€â”€ chat/               <span class="comment"># ChatWidget</span>
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ vertexai.ts         <span class="comment"># AIè¨­å®š</span>
â””â”€â”€ messages/
    â”œâ”€â”€ ja.json             <span class="comment"># æ—¥æœ¬èª</span>
    â”œâ”€â”€ en.json             <span class="comment"># è‹±èª</span>
    â”œâ”€â”€ id.json             <span class="comment"># ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èª</span>
    â”œâ”€â”€ ne.json             <span class="comment"># ãƒãƒ‘ãƒ¼ãƒ«èª</span>
    â””â”€â”€ my.json             <span class="comment"># ãƒ“ãƒ«ãƒèª</span></div>
        </div>
      </section>

      <!-- API -->
      <section id="api">
        <h2>APIå®Ÿè£…</h2>

        <h3>Chat API</h3>
        <div class="code-block">
          <div class="code-header">src/app/api/chat/route.ts</div>
          <div class="code-content"><span class="keyword">import</span> { VertexAI } <span class="keyword">from</span> <span class="string">'@google-cloud/vertexai'</span>;
<span class="keyword">import</span> { SYSTEM_PROMPT } <span class="keyword">from</span> <span class="string">'@/lib/vertexai'</span>;

<span class="keyword">const</span> vertexAI = <span class="keyword">new</span> <span class="function">VertexAI</span>({
  project: process.env.GOOGLE_CLOUD_PROJECT,
  location: <span class="string">'asia-northeast1'</span>,
});

<span class="keyword">const</span> model = vertexAI.<span class="function">getGenerativeModel</span>({
  model: <span class="string">'gemini-2.5-flash'</span>,
});

<span class="keyword">export async function</span> <span class="function">POST</span>(request: Request) {
  <span class="keyword">const</span> { message, history } = <span class="keyword">await</span> request.<span class="function">json</span>();

  <span class="keyword">const</span> chat = model.<span class="function">startChat</span>({
    history,
    systemInstruction: SYSTEM_PROMPT,
  });

  <span class="keyword">const</span> result = <span class="keyword">await</span> chat.<span class="function">sendMessage</span>(message);
  <span class="keyword">return</span> Response.<span class="function">json</span>({
    response: result.response.<span class="function">text</span>()
  });
}</div>
        </div>

        <h3>ç’°å¢ƒå¤‰æ•°</h3>
        <div class="code-block">
          <div class="code-header">.env.local</div>
          <div class="code-content"><span class="comment"># GCP Project</span>
GOOGLE_CLOUD_PROJECT=your-project-id

<span class="comment"># Vertex AI</span>
VERTEX_AI_LOCATION=asia-northeast1

<span class="comment"># Local development only</span>
GOOGLE_APPLICATION_CREDENTIALS=./service-account.json</div>
        </div>
      </section>

      <!-- Deploy -->
      <section id="deploy">
        <h2>ãƒ‡ãƒ—ãƒ­ã‚¤</h2>

        <h3>ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ•ãƒ­ãƒ¼</h3>
        <div class="mermaid-wrapper animate-on-scroll">
          <div class="mermaid">
flowchart LR
    A[git push] --> B[Cloud Build]
    B --> C[Docker Build]
    C --> D[Artifact Registry]
    D --> E[Cloud Run]
    E --> F[Live]
          </div>
        </div>

        <h3>é–‹ç™ºã‚³ãƒãƒ³ãƒ‰</h3>
        <div class="code-block">
          <div class="code-header">terminal</div>
          <div class="code-content"><span class="comment"># é–‹ç™ºã‚µãƒ¼ãƒãƒ¼</span>
npm run dev

<span class="comment"># ãƒ“ãƒ«ãƒ‰</span>
npm run build

<span class="comment"># å‹ãƒã‚§ãƒƒã‚¯</span>
npm run type-check

<span class="comment"># æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤</span>
git push origin main</div>
        </div>

        <h3>æœ¬ç•ªURL</h3>
        <div class="info-box">
          <div class="info-box-title">Production</div>
          <p><a href="https://skilled-worker-jp-ih4hgkgkfa-an.a.run.app" target="_blank">https://skilled-worker-jp-ih4hgkgkfa-an.a.run.app</a></p>
        </div>
      </section>

    </div>
  </main>

  <!-- Mermaid -->
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#e0f7f8',
        primaryTextColor: '#1a1a1a',
        primaryBorderColor: '#00a3a9',
        lineColor: '#9ca3af',
        secondaryColor: '#f3f4f6',
        tertiaryColor: '#fff',
        background: '#fff',
        mainBkg: '#e0f7f8',
        nodeBorder: '#00a3a9',
        clusterBkg: '#f9fafb',
        clusterBorder: '#e5e7eb',
        titleColor: '#1a1a1a',
        actorBkg: '#e0f7f8',
        actorBorder: '#00a3a9',
        actorTextColor: '#1a1a1a',
        signalColor: '#4b5563',
        signalTextColor: '#1a1a1a'
      },
      flowchart: {
        curve: 'basis',
        padding: 20,
        htmlLabels: true
      }
    });
  </script>

  <!-- Canvas: Page Flow Diagram -->
  <script>
    const canvas = document.getElementById('pageFlowCanvas');
    const ctx = canvas.getContext('2d');
    let hoverState = { lp: false, arrow: false, register: false };

    function drawPageFlow() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // LP Page
      ctx.fillStyle = hoverState.lp ? '#e0f7f8' : '#fff';
      ctx.strokeStyle = hoverState.lp ? '#00a3a9' : '#e5e7eb';
      ctx.lineWidth = 2;
      roundRect(ctx, 40, 20, 180, 160, 8);
      ctx.fill();
      ctx.stroke();

      // LP Header
      ctx.fillStyle = '#00a3a9';
      roundRectTop(ctx, 40, 20, 180, 30, 8);
      ctx.fill();

      ctx.fillStyle = '#fff';
      ctx.font = 'bold 12px Noto Sans JP';
      ctx.textAlign = 'center';
      ctx.fillText('ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ (LP)', 130, 40);

      // LP Content
      ctx.fillStyle = '#f3f4f6';
      roundRect(ctx, 55, 60, 150, 20, 4);
      ctx.fill();

      ctx.fillStyle = '#e5e7eb';
      roundRect(ctx, 55, 90, 80, 8, 2);
      ctx.fill();
      roundRect(ctx, 55, 105, 120, 8, 2);
      ctx.fill();

      ctx.fillStyle = '#00a3a9';
      roundRect(ctx, 55, 125, 150, 25, 4);
      ctx.fill();

      ctx.fillStyle = '#fff';
      ctx.font = '10px Noto Sans JP';
      ctx.fillText('ç™»éŒ²ãƒœã‚¿ãƒ³', 130, 142);

      ctx.fillStyle = '#e0f7f8';
      roundRect(ctx, 55, 160, 50, 15, 2);
      ctx.fill();
      ctx.fillStyle = '#00a3a9';
      ctx.font = '8px Noto Sans JP';
      ctx.fillText('ãƒãƒ£ãƒƒãƒˆ', 80, 171);

      // Arrow
      ctx.strokeStyle = hoverState.arrow ? '#00a3a9' : '#9ca3af';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(240, 100);
      ctx.lineTo(320, 100);
      ctx.stroke();

      ctx.fillStyle = hoverState.arrow ? '#00a3a9' : '#9ca3af';
      ctx.beginPath();
      ctx.moveTo(320, 95);
      ctx.lineTo(335, 100);
      ctx.lineTo(320, 105);
      ctx.fill();

      ctx.fillStyle = '#6b7280';
      ctx.font = '10px Noto Sans JP';
      ctx.fillText('ã‚¯ãƒªãƒƒã‚¯', 280, 90);

      // Register Page
      ctx.fillStyle = hoverState.register ? '#e0f7f8' : '#fff';
      ctx.strokeStyle = hoverState.register ? '#00a3a9' : '#e5e7eb';
      ctx.lineWidth = 2;
      roundRect(ctx, 360, 20, 180, 160, 8);
      ctx.fill();
      ctx.stroke();

      // Register Header
      ctx.fillStyle = '#00a3a9';
      roundRectTop(ctx, 360, 20, 180, 30, 8);
      ctx.fill();

      ctx.fillStyle = '#fff';
      ctx.font = 'bold 12px Noto Sans JP';
      ctx.fillText('ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ', 450, 40);

      // Form Content
      ctx.fillStyle = '#6b7280';
      ctx.font = '10px Noto Sans JP';
      ctx.textAlign = 'left';
      ctx.fillText('Step 1 â†’ 2 â†’ 3', 375, 70);

      ctx.fillStyle = '#f3f4f6';
      roundRect(ctx, 375, 80, 150, 12, 2);
      ctx.fill();
      roundRect(ctx, 375, 100, 150, 12, 2);
      ctx.fill();
      roundRect(ctx, 375, 120, 150, 12, 2);
      ctx.fill();

      ctx.fillStyle = '#00a3a9';
      roundRect(ctx, 375, 145, 150, 25, 4);
      ctx.fill();

      ctx.fillStyle = '#fff';
      ctx.font = '10px Noto Sans JP';
      ctx.textAlign = 'center';
      ctx.fillText('é€ä¿¡', 450, 162);
    }

    function roundRect(ctx, x, y, w, h, r) {
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.lineTo(x + w - r, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + r);
      ctx.lineTo(x + w, y + h - r);
      ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
      ctx.lineTo(x + r, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - r);
      ctx.lineTo(x, y + r);
      ctx.quadraticCurveTo(x, y, x + r, y);
      ctx.closePath();
    }

    function roundRectTop(ctx, x, y, w, h, r) {
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.lineTo(x + w - r, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + r);
      ctx.lineTo(x + w, y + h);
      ctx.lineTo(x, y + h);
      ctx.lineTo(x, y + r);
      ctx.quadraticCurveTo(x, y, x + r, y);
      ctx.closePath();
    }

    canvas.addEventListener('mousemove', (e) => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      hoverState.lp = x >= 40 && x <= 220 && y >= 20 && y <= 180;
      hoverState.register = x >= 360 && x <= 540 && y >= 20 && y <= 180;
      hoverState.arrow = x >= 240 && x <= 335 && y >= 80 && y <= 120;

      canvas.style.cursor = (hoverState.lp || hoverState.register || hoverState.arrow) ? 'pointer' : 'default';
      drawPageFlow();
    });

    canvas.addEventListener('click', (e) => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;

      if (x >= 40 && x <= 220) {
        window.open('https://skilled-worker-jp-ih4hgkgkfa-an.a.run.app/ja', '_blank');
      } else if (x >= 360 && x <= 540) {
        window.open('https://skilled-worker-jp-ih4hgkgkfa-an.a.run.app/ja/register', '_blank');
      }
    });

    drawPageFlow();
  </script>

  <!-- Scroll Animation & Count Up -->
  <script>
    // Intersection Observer for scroll animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');

          // Count up animation for stats
          const countElements = entry.target.querySelectorAll('[data-count]');
          countElements.forEach(el => {
            const target = parseInt(el.dataset.count);
            let current = 0;
            const increment = target / 20;
            const timer = setInterval(() => {
              current += increment;
              if (current >= target) {
                el.textContent = target;
                clearInterval(timer);
              } else {
                el.textContent = Math.floor(current);
              }
            }, 50);
          });
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.animate-on-scroll').forEach(el => {
      observer.observe(el);
    });

    // Smooth scroll & active nav
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').slice(1);
        const target = document.getElementById(targetId);
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        }
      });
    });

    window.addEventListener('scroll', () => {
      const sections = document.querySelectorAll('section[id]');
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop - 100;
        if (window.scrollY >= sectionTop) {
          current = section.getAttribute('id');
        }
      });
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    });
  </script>
</body>
</html>
